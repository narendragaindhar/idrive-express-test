inherit_from: .rubocop_todo.yml
require: rubocop-rspec

AllCops:
  Include:
    - Gemfile
    - Rakefile
    - config.ru
    - lib/**/*.rake
    - lib/modules/**.*.rb
    - app/**/*.rb
    - db/**/*.rb
    - spec/**/*.rb
    - config/**/*.rb
  Exclude:
    - db/schema.rb # autogenerated

Metrics/ClassLength:
  Exclude:
    - app/queries/order_query.rb # this is quite complex and not sure how to break it up

Metrics/BlockLength:
  Exclude:
    - spec/**/*.rb # tests are fine

Metrics/LineLength:
  Max: 120 # ok to be a little longer

RSpec/FilePath:
  Exclude:
    # rubocop is not aware of how to inflect the I* words
    - 'spec/jobs/idrive_one_csv_job_spec.rb'
    - 'spec/services/ibackup_update_service_spec.rb'
    - 'spec/services/idrive_one_csv_service_spec.rb'
    - 'spec/services/idrive_update_service_spec.rb'
    - 'spec/services/idrive360_update_service_spec.rb'

RSpec/InstanceVariable:
  Exclude:
    - 'spec/queries/order_query_spec.rb' # uses instance vars because of before(:all)

RSpec/MessageSpies:
  EnforcedStyle: receive # :have_recieved IMO is a stranger syntax

RSpec/NestedGroups:
  Max: 5 # some nesting is ok

RSpec/RepeatedDescription:
  Exclude:
    - spec/policies/*_spec.rb # policies make use of `permissions()` helper which creates additional contexts

Style/FrozenStringLiteralComment:
  Enabled: false # don't care about this as it is only to prep for ruby 3 release

